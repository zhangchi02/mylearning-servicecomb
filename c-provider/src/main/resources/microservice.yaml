APPLICATION_ID: mylearning-servicecomb  # 必选，应用Id 是微服务的一个隔离层级，默认只有同应用下的微服务可以相互调用。
service_description:
  name: provider            # 必选，微服务名称，通应用下的不同微服务需要有不同的名称。
  version: 0.0.0.1            # 必选，微服务版本
  environment: "" # 可选，服务实例会将不一致的接口契约注册到sc，覆盖sc上原有的契约
#  properties:              # 可选，微服务元数据配置（通过microservice.yaml文件进行配置）
#    key1: value1           
#    key2: value2
#  description: This is a description about the microservice # 可选，微服务描述
#  propertyExtentedClass: org.apache.servicecomb.serviceregistry.MicroServicePropertyExtendedStub # 可选，微服务元数据配置（通过实现接口PropertyExtended进行配置），接口返回的配置会覆盖配置文件中key相同的配置。
#instance_description:      # 可选，实例描述
#  properties:              # 可选，服务实例元数据配置（通过microservice.yaml文件进行配置）
#    key3: value3
#  propertyExtentedClass: org.apache.servicecomb.serviceregistry.MicroServicePropertyExtendedStub # 可选，微服务元数据配置（通过实现接口PropertyExtended进行配置），接口返回的配置会覆盖配置文件中key相同的配置。   
cse:
  service:                                                  # 服务中心提供了微服务注册、管理、发现功能
#    publishAddress: "zookeeperadapter-92720-0.zookeeperadapter-92720-none.12950"  # 不符合URI规范
#    publishAddress: desktop-0068
    registry:
      address: https://cse.cn-north-1.myhuaweicloud.com:443 # 服务中心的地址。
#      address: http://127.0.0.1:30100 #服务中心的地址。
#      address: https://cse.cn-south-1.myhuaweicloud.com
#      address: https://192.168.0.82:30100
#      address: https://cse.cn-east-2.myhuaweicloud.com
      instance:
        watch: false                                        # 是否采用watch模式监听实例变化。推荐将这个选项显式配置为false，即使用pull模式。配置为true的话需要连接物理引擎
        #pull：
          #interval：30                                     # pull模式下consumer服务刷新查询provider服务实例列表的时间间隔
        #healthCheck:
          #interval: 30                                     # 心跳时间间隔，单位为秒，正常运行的微服务实例每隔这么长时间向sc发送一次心跳请求以维持自己的在线状态。
        #healthCheck:
          #times: 3                                         # 允许的连续心跳失败次数，如果出现n+1次连续心跳失败则sc认为该实例已异常关闭，将自动下线该实例
        #empty:
          #protection: true                                 # 是否启用空实例保护，true表示如果从sc查询到的provider实例列表为空，将会尝试沿用本地缓存的provider实例列表

#      client:
#        timeout:
#          connection: 30000
#          heartbeat: 3000
#servicecomb:   # 同一个配置文件中不能同时出现相同的key，servicecomb.config=cse.cinfig
  config:                                                     # 配置中心提供了存储、管理配置项的功能（微服务运行时动态变更配置的能力，下发服务治理功能）。
    client:
      serverUri: https://cse.cn-north-1.myhuaweicloud.com:443 # 配置中心地址，如果为空则微服务实例不会连接配置中心。
#      #serverUri: http://127.0.0.1:30113 
#      serverUri: https://cse.cn-south-1.myhuaweicloud.com
#      serverUri: https://192.168.0.82:30103
#      serverUri: https://cse.cn-east-2.myhuaweicloud.com
      refreshMode: 1                                          # 配置刷新方式（0/1），0表示watch模式，1表示pull模式。推荐显式配置为1。
      refresh_interval: 5000                                  # 配置刷新的时间间隔，单位是毫秒
  monitor:                                                    # monitor服务允许微服务实例上报吞吐量等数据，并在CSE的服务治理页面上展示相关数据
    client:
      serverUri: https://cse.cn-north-1.myhuaweicloud.com:443 # 如果没有配置该地址，则会从服务中心通过服务发现的方式获取monitor地址。从华为云外部连接CSE时需要显式配置地址，在华为云上部署时推荐不配置，走sc服务发现
#      serverUri: https://192.168.0.82:30109
#      serverUri: https://cse.cn-east-2.myhuaweicloud.com
#      enabled: false                                          # 是否连接monitor
  rest:
    address: 0.0.0.0:8080?sslEnabled=false           # 本服务监听的地址
#    publishPort: 9090
#    client:
#      connection:
#        idleTimeoutInSeconds: 80   # 单位秒，默认30
    server:
      connection:
        idleTimeoutInSeconds: 60   # 单位秒，默认60 服务端连接超时时间，一个连接在指定时间内没有接收到请求
  request:
    uploadService:
      uploadFile: 300
  credentials:                    # 本地连接华为云时需要配置AK/SK，如果是在云商ServiceStage部署则不需要。直接删掉credentials配置即可。
    accessKey: ak
    secretKey: sk
    project: cn-north-1             # 这里的值与sc/cc/monitor的地址相对应，如果配置的是域名，CSEJavaSDK可以自动截取出project
    akskCustomerCipher: default
  handler:                                                                # 处理链配置
    chain:
      Provider:
        default: demo-handler,qps-flowcontrol-provider,bizkeeper-provider,perf-stats
#        default: demo-handler,auth-provider,qps-flowcontrol-provider,bizkeeper-provider,perf-stats # 默认handler链配置在cse-solution-service-engine包中
  #proxy:                   # 通过代理链接CSE服务
    #enable: true           # 是否开启代理
    #host: yourproxyaddress # 代理地址
    #port: 80               # 代理端口
    #username: yourname     # 用户名
    #passwd: yourpassword   # 密码
  metrics:
    publisher:
      defaultLog:
        enabled: false    # 是否在默认的日志中打印metrics日志
      #window_time: 10000 # metrics日志打印周期
  accesslog:
    enabled: true
    pattern: "%h - - %t cs-uri %s %B %D %SCB-traceId"
  uploads:
    directory: uploadtest
    maxSize: -1  # http body的最大允许大小，单位byte，默认值-1表示无限制
#servicecomb.http.filter.server.serverRestArgs.enabled: true
  http:
    dispatcher:
      rest:
        enabled: true
#servicecomb.config.ignoreResolveFailure: true
  flowcontrol:
    Provider:
      qps:
        enabled: false
        global:
          limit: 1
hi:
  sayHiPrefix: "Hi "
instance_description: 
  properties: 
    tags: key3,commons_redis_maxIdle
    key3: value3

#########SSL options
ssl.rest.provider.protocols: TLSv1.2
ssl.rest.provider.authPeer: false
ssl.rest.provider.checkCN.host: false

########certificates config
#ssl.rest.provider.trustStore: trust.jks
#ssl.rest.provider.trustStoreType: JKS
ssl.rest.provider.trustStoreValue: Changeme_123
#ssl.rest.provider.keyStore: server.p12
#ssl.rest.provider.keyStoreType: PKCS12
ssl.rest.provider.keyStoreValue: Changeme_123
ssl.rest.provider.crl: revoke.crl
ssl.rest.provider.sslCustomClass: com.zhc.utils.DemoSSLCustom